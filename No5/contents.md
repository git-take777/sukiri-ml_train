## pandas æ´»ç”¨

- ãƒ‡ãƒ¼ã‚¿æº–å‚™ã¨å‰å‡¦ç†
  - ã‚«ãƒ†ã‚´ãƒªãƒ¼ãƒ‡ãƒ¼ã‚¿ã®å€‹æ•°é›†è¨ˆæ•°
  - ãƒ‡ãƒ¼ã‚¿ã«æ¬ æãŒã‚ã£ãŸå ´åˆã®åŸºæœ¬çš„ãªå¯¾å‡¦æ³•
  - åˆ—ã”ã¨ã®ä»£è¡¨å€¤ã®è¨ˆç®—æ³•
- ãƒ¢ãƒ‡ãƒ«ã®å­¦ç¿’
  - æ±ºå®šæœ¨ã«ã‚ˆã‚‹åˆ†é¡ã®æ¦‚è¦
  - scikit-learn ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã‚ˆã‚‹æ±ºå®šæœ¨ã®å­¦ç¿’æ³•
- ãƒ¢ãƒ‡ãƒ«ã®è©•ä¾¡
  - æœªçŸ¥ã®å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã‚’ç”¨ã„ãŸäºˆæ¸¬æ€§èƒ½ã®è©•ä¾¡æ³•
  - æ±ºå®šæœ¨ã®å›³ç¤ºåŒ–




# æ©Ÿæ¢°å­¦ç¿’ãƒ¢ãƒ‡ãƒ«è©•ä¾¡ã®å®Œå…¨ã‚¬ã‚¤ãƒ‰

## ğŸ¯ ãªãœãƒ¢ãƒ‡ãƒ«è©•ä¾¡ãŒé‡è¦ãªã®ã‹ï¼Ÿ

### å•é¡Œã®æ ¸å¿ƒ
- **è¦‹ã‹ã‘ä¸Šã®é«˜ã„æ­£è§£ç‡**ã«é¨™ã•ã‚Œã¦ã¯ã„ã‘ãªã„
- **åŒã˜å•é¡Œé›†ã‚’ä½•åº¦ã‚‚è§£ã„ã¦95ç‚¹å–ã‚ŒãŸ**ã¨ã—ã¦ã‚‚ã€**åˆã‚ã¦è¦‹ã‚‹å•é¡Œã§ã¯å…¨ç„¶è§£ã‘ãªã„**å¯èƒ½æ€§
- æ©Ÿæ¢°å­¦ç¿’ã§ã‚‚åŒã˜å•é¡ŒãŒç™ºç”Ÿã™ã‚‹ï¼ˆ**éå­¦ç¿’**ï¼‰

### æ­£ã—ã„ãƒ¢ãƒ‡ãƒ«è©•ä¾¡ã®å¿…è¦æ€§
- **çœŸã®æ€§èƒ½**ã‚’æ¸¬å®šã™ã‚‹ãŸã‚
- **æœªçŸ¥ã®ãƒ‡ãƒ¼ã‚¿**ã¸ã®å¯¾å¿œåŠ›ã‚’ç¢ºèªã™ã‚‹ãŸã‚
- **éå­¦ç¿’**ã‚’é˜²ããŸã‚
- **å®Ÿéš›ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ä½¿ãˆã‚‹ä¿¡é ¼ã§ãã‚‹ãƒ¢ãƒ‡ãƒ«**ã‚’ä½œã‚‹ãŸã‚

## ğŸ“Š æ­£ã—ã„ãƒ‡ãƒ¼ã‚¿ã®åˆ†å‰²æ–¹æ³•ï¼ˆãƒ›ãƒ¼ãƒ«ãƒ‰ã‚¢ã‚¦ãƒˆæ³•ï¼‰

### åŸºæœ¬çš„ãªè€ƒãˆæ–¹
```
å…¨ãƒ‡ãƒ¼ã‚¿ = è¨“ç·´ãƒ‡ãƒ¼ã‚¿ + ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
```

### åˆ†å‰²ã®ç›®çš„
- **è¨“ç·´ãƒ‡ãƒ¼ã‚¿**: ãƒ¢ãƒ‡ãƒ«ã«å­¦ç¿’ã•ã›ã‚‹ãƒ‡ãƒ¼ã‚¿ï¼ˆæ•™ç§‘æ›¸çš„å½¹å‰²ï¼‰
- **ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿**: ãƒ¢ãƒ‡ãƒ«ã®å®ŸåŠ›ã‚’æ¸¬ã‚‹ãƒ‡ãƒ¼ã‚¿ï¼ˆæœ¬ç•ªè©¦é¨“çš„å½¹å‰²ï¼‰

### å®Ÿéš›ã®åˆ†å‰²æ¯”ç‡ã¨ã‚³ãƒ¼ãƒ‰
```python
# ä¸€èˆ¬çš„ãªåˆ†å‰²ä¾‹
x_train, x_test, y_train, y_test = train_test_split(
    x, y, 
    test_size=0.3,  # 30%ã‚’ãƒ†ã‚¹ãƒˆç”¨ã«
    random_state=0  # å†ç¾æ€§ã®ãŸã‚
)
```

### train_test_splité–¢æ•°ã®è©³ç´°
```python
train_test_split(ç‰¹å¾´é‡, æ­£è§£ãƒ‡ãƒ¼ã‚¿, test_size=â—, random_state=â–²)
```

**ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®æ„å‘³:**
- **ç‰¹å¾´é‡**: äºˆæ¸¬ã«ä½¿ã†å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ï¼ˆä¾‹ï¼šèº«é•·ã€ä½“é‡ã€å¹´é½¢ãªã©ï¼‰
- **æ­£è§£ãƒ‡ãƒ¼ã‚¿**: äºˆæ¸¬ã—ãŸã„ç­”ãˆï¼ˆä¾‹ï¼šç—…æ°—ã®æœ‰ç„¡ã€å•†å“ã®å£²ä¸Šãªã©ï¼‰
- **test_size**: ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®å‰²åˆï¼ˆ0.3 = 30%ï¼‰
- **random_state**: ä¹±æ•°ã®ã‚·ãƒ¼ãƒ‰å€¤ï¼ˆå†ç¾æ€§ã‚’ä¿ã¤ãŸã‚ï¼‰

### å®Ÿè¡Œçµæœã®ç†è§£
```
(105, 4) â† x_trainã®è¡Œæ•°ã¨åˆ—æ•°ï¼ˆ105ä»¶ãŒè¨“ç·´ç”¨ï¼‰
(45, 4)  â† x_testã®è¡Œæ•°ã¨åˆ—æ•°ï¼ˆ45ä»¶ãŒãƒ†ã‚¹ãƒˆç”¨ï¼‰
```
- å…¨ãƒ‡ãƒ¼ã‚¿150ä»¶ã®ã†ã¡ã€105ä»¶ãŒè¨“ç·´ç”¨ã€45ä»¶ãŒãƒ†ã‚¹ãƒˆç”¨ã«åˆ†å‰²
- 4ã¤ã®ç‰¹å¾´é‡ï¼ˆåˆ—ï¼‰ã‚’ä½¿ç”¨

## âš ï¸ ã‚ˆãã‚ã‚‹é–“é•ã„ã¨æ­£ã—ã„æ–¹æ³•

### âŒ é–“é•ã£ãŸè©•ä¾¡æ–¹æ³•
```python
# è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã§å­¦ç¿’
model.fit(x_train, y_train)

# åŒã˜è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã§è©•ä¾¡ï¼ˆã“ã‚Œã¯ãƒ€ãƒ¡ï¼ï¼‰
score = model.score(x_train, y_train)  # è¦‹ã‹ã‘ä¸Šé«˜ã„æ­£è§£ç‡
```

### âœ… æ­£ã—ã„è©•ä¾¡æ–¹æ³•
```python
# è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã§å­¦ç¿’
model.fit(x_train, y_train)

# åˆ¥ã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã§è©•ä¾¡ï¼ˆã“ã‚ŒãŒæ­£è§£ï¼ï¼‰
score = model.score(x_test, y_test)  # çœŸã®æ€§èƒ½
```

## ğŸ¤– ãƒ¢ãƒ‡ãƒ«ã®å­¦ç¿’ã¨è©•ä¾¡ãƒ—ãƒ­ã‚»ã‚¹

### å­¦ç¿’ãƒ•ã‚§ãƒ¼ã‚º
```python
model.fit(x_train, y_train)  # è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã§ãƒ¢ãƒ‡ãƒ«ã‚’å­¦ç¿’
```

### è©•ä¾¡ãƒ•ã‚§ãƒ¼ã‚º
```python
model.score(x_test, y_test)  # ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã§æ­£è§£ç‡ã‚’è¨ˆç®—
```

### é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ
- **å­¦ç¿’ã«ä½¿ã£ãŸãƒ‡ãƒ¼ã‚¿ã¨ã¯åˆ¥ã®ãƒ‡ãƒ¼ã‚¿**ã§è©•ä¾¡ã™ã‚‹
- âœ… **çœŸã®æ€§èƒ½**ã‚’æ¸¬å®šã§ãã‚‹
- âœ… **éå­¦ç¿’**ã‚’é˜²ã’ã‚‹
- âœ… **æœªçŸ¥ã®ãƒ‡ãƒ¼ã‚¿**ã¸ã®å¯¾å¿œåŠ›ãŒåˆ†ã‹ã‚‹

## ğŸ’¾ ãƒ¢ãƒ‡ãƒ«ã®ä¿å­˜

### ãªãœä¿å­˜ãŒå¿…è¦ï¼Ÿ
- ä¸€åº¦å­¦ç¿’ã—ãŸãƒ¢ãƒ‡ãƒ«ã‚’å†åˆ©ç”¨ã§ãã‚‹
- å­¦ç¿’ã«æ™‚é–“ãŒã‹ã‹ã‚‹å ´åˆã€æ¯å›å­¦ç¿’ã—ç›´ã™å¿…è¦ãŒãªã„
- æœ¬ç•ªç’°å¢ƒã§ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã„å›ã›ã‚‹

### pickleã‚’ä½¿ã£ãŸä¿å­˜æ–¹æ³•
```python
import pickle
with open('irismodel.pkl', 'wb') as f:
    pickle.dump(model, f)
```

## ğŸŒ³ æ±ºå®šæœ¨ã®å†…éƒ¨æ§‹é€ åˆ†æ

### 4.1 æ±ºå®šæœ¨ã®æ·±ã•ï¼ˆmax_depthï¼‰
```
æ·±ã•1: æ ¹ãƒãƒ¼ãƒ‰ â†’ å­ãƒãƒ¼ãƒ‰
æ·±ã•2: æ ¹ãƒãƒ¼ãƒ‰ â†’ å­ãƒãƒ¼ãƒ‰ â†’ å­«ãƒãƒ¼ãƒ‰
```

**max_depth=2ã®æ„å‘³:**
- æœ€å¤§2éšå±¤ã¾ã§åˆ†å²ã™ã‚‹
- æ·±ã™ãã‚‹ã¨éå­¦ç¿’ã€æµ…ã™ãã‚‹ã¨æ€§èƒ½ä¸è¶³
- ãƒãƒ©ãƒ³ã‚¹ãŒé‡è¦

### 4.2 åˆ†å²æ¡ä»¶ã®åˆ—ç•ªå·ï¼ˆç‰¹å¾´é‡ï¼‰
```python
model.tree_.feature  # ã©ã®ç‰¹å¾´é‡ã§åˆ†å²ã™ã‚‹ã‹ã®æƒ…å ±
```

**å®Ÿè¡Œçµæœã®è§£èª­:**
```
array([3, -2, 3, -2, -2])
```
- **3**: 4ç•ªç›®ã®ç‰¹å¾´é‡ã§åˆ†å²ï¼ˆ0ã‹ã‚‰æ•°ãˆã‚‹ãŸã‚ï¼‰
- **-2**: åˆ†å²ã—ãªã„ï¼ˆãƒªãƒ¼ãƒ•ãƒãƒ¼ãƒ‰ï¼‰

### 4.3 åˆ†å²æ¡ä»¶ã®ã—ãã„å€¤ï¼ˆtree_.thresholdï¼‰

**thresholdï¼ˆã—ãã„å€¤ï¼‰**ã¯ã€å„ãƒãƒ¼ãƒ‰ã§ã€ŒYes/Noã€ã‚’æ±ºã‚ã‚‹**åŸºæº–å€¤**

```python
model.tree_.threshold
```
**çµæœ:**
```
array([0.275, -2., 0.69, -2., -2.])
```

**å„å€¤ã®æ„å‘³:**
- **0.275**: ãƒãƒ¼ãƒ‰0ã§ã®åˆ†å²åŸºæº–å€¤
- **-2**: åˆ†å²ã—ãªã„ï¼ˆãƒªãƒ¼ãƒ•ãƒãƒ¼ãƒ‰ï¼‰
- **0.69**: ãƒãƒ¼ãƒ‰2ã§ã®åˆ†å²åŸºæº–å€¤

**åˆ†å²ã®ä»•çµ„ã¿:**
```
ãƒãƒ¼ãƒ‰ç•ªå·0ï¼ˆèŠ±å¼å¹… â‰¤ 0.275ï¼‰
    â”œâ”€ True â†’ ãƒãƒ¼ãƒ‰1ï¼ˆåˆ†å²çµ‚äº†ï¼‰
    â””â”€ False â†’ ãƒãƒ¼ãƒ‰2ï¼ˆèŠ±å¼å¹… â‰¤ 0.69ï¼‰
                   â”œâ”€ True â†’ ãƒãƒ¼ãƒ‰3ï¼ˆåˆ†å²çµ‚äº†ï¼‰
                   â””â”€ False â†’ ãƒãƒ¼ãƒ‰4ï¼ˆåˆ†å²çµ‚äº†ï¼‰
```

### 4.4 æœ«ç«¯ãƒãƒ¼ãƒ‰ã¨ç¨®é¡ã®ç´ä»˜ã‘ï¼ˆtree_.valueï¼‰

**tree_.value**ã¯å„ãƒãƒ¼ãƒ‰ã«åˆ°é”ã—ãŸ**ãƒ‡ãƒ¼ã‚¿ã®ç¨®é¡åˆ¥ã®å€‹æ•°**ã‚’è¡¨ç¤º

```python
model.tree_.value[1]  # ãƒãƒ¼ãƒ‰ç•ªå·1ã®çµæœ
model.tree_.value[3]  # ãƒãƒ¼ãƒ‰ç•ªå·3ã®çµæœ
model.tree_.value[4]  # ãƒãƒ¼ãƒ‰ç•ªå·4ã®çµæœ
```

**çµæœ:**
```
[[34, 0, 0]]    # ãƒãƒ¼ãƒ‰1: ã‚°ãƒ«ãƒ¼ãƒ—0ãŒ34å€‹ã€ã‚°ãƒ«ãƒ¼ãƒ—1ãŒ0å€‹ã€ã‚°ãƒ«ãƒ¼ãƒ—2ãŒ0å€‹
[0, 31, 6]]     # ãƒãƒ¼ãƒ‰3: ã‚°ãƒ«ãƒ¼ãƒ—0ãŒ0å€‹ã€ã‚°ãƒ«ãƒ¼ãƒ—1ãŒ31å€‹ã€ã‚°ãƒ«ãƒ¼ãƒ—2ãŒ6å€‹
[0, 1, 33]]     # ãƒãƒ¼ãƒ‰4: ã‚°ãƒ«ãƒ¼ãƒ—0ãŒ0å€‹ã€ã‚°ãƒ«ãƒ¼ãƒ—1ãŒ1å€‹ã€ã‚°ãƒ«ãƒ¼ãƒ—2ãŒ33å€‹
```

**å®Ÿéš›ã®æ„å‘³:**
- **ãƒãƒ¼ãƒ‰1**: èŠ±å¼å¹…â‰¤0.275ã®ãƒ‡ãƒ¼ã‚¿ã¯34å€‹ã™ã¹ã¦ãŒåŒã˜ç¨®é¡ï¼ˆå®Œå…¨åˆ†é¡ï¼‰
- **ãƒãƒ¼ãƒ‰3**: èŠ±å¼å¹…0.275ã€œ0.69ã®ãƒ‡ãƒ¼ã‚¿ã¯2ç¨®é¡æ··åœ¨ï¼ˆä¸å®Œå…¨åˆ†é¡ï¼‰
- **ãƒãƒ¼ãƒ‰4**: èŠ±å¼å¹…>0.69ã®ãƒ‡ãƒ¼ã‚¿ã¯ã»ã¼1ç¨®é¡ï¼ˆã»ã¼å®Œå…¨åˆ†é¡ï¼‰

### 4.5 ã‚¯ãƒ©ã‚¹åã¨ã‚°ãƒ«ãƒ¼ãƒ—ç•ªå·ã®å¯¾å¿œ

```python
model.classes_
```

**çµæœ:**
```
array(['Iris-setosa', 'Iris-versicolor', 'Iris-virginica'])
```

**ã‚°ãƒ«ãƒ¼ãƒ—ç•ªå·ã®å¯¾å¿œ:**
- **ã‚°ãƒ«ãƒ¼ãƒ—0**: Iris-setosaï¼ˆã‚»ãƒˆã‚µç¨®ï¼‰
- **ã‚°ãƒ«ãƒ¼ãƒ—1**: Iris-versicolorï¼ˆãƒãƒ¼ã‚·ã‚«ãƒ©ãƒ¼ç¨®ï¼‰
- **ã‚°ãƒ«ãƒ¼ãƒ—2**: Iris-virginicaï¼ˆãƒãƒ¼ã‚¸ãƒ‹ã‚«ç¨®ï¼‰

**æ±ºå®šæœ¨ã®åˆ†é¡çµæœ:**
```
ãƒãƒ¼ãƒ‰1 â†’ Iris-setosaï¼ˆ34å€‹ã€100%ç´”åº¦ï¼‰
ãƒãƒ¼ãƒ‰3 â†’ Iris-versicolorä¸»ä½“ï¼ˆ31å€‹ vs 6å€‹ã€ç´„84%ç´”åº¦ï¼‰
ãƒãƒ¼ãƒ‰4 â†’ Iris-virginicaä¸»ä½“ï¼ˆ33å€‹ vs 1å€‹ã€ç´„97%ç´”åº¦ï¼‰
```

## ğŸ¨ æ±ºå®šæœ¨ã®å¯è¦–åŒ–ï¼ˆplot_treeï¼‰

### scikit-learnã®æ–°æ©Ÿèƒ½
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³0.21ä»¥é™**ã§`plot_tree`é–¢æ•°ãŒè¿½åŠ ã•ã‚Œã€å¤–éƒ¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã—ã§æ±ºå®šæœ¨ã‚’æç”»å¯èƒ½

### å¯è¦–åŒ–ã‚³ãƒ¼ãƒ‰ã®è©³ç´°
```python
# ç‰¹å¾´é‡ã®åå‰ã‚’æ—¥æœ¬èªã§è¨­å®š
x_train.columns = ['gaku_nagasa', 'gaku_haba', 
                   'kaben_nagasa', 'kaben_haba']

# plot_treeé–¢æ•°ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
from sklearn.tree import plot_tree

# æ±ºå®šæœ¨ã‚’æç”»
plot_tree(model, 
         feature_names = x_train.columns,  # ç‰¹å¾´é‡åã‚’æŒ‡å®š
         filled = True)                    # ãƒãƒ¼ãƒ‰ã‚’è‰²ä»˜ãã§è¡¨ç¤º
```

### æç”»çµæœã®è¦‹æ–¹

#### ãƒ«ãƒ¼ãƒˆãƒãƒ¼ãƒ‰ï¼ˆæœ€ä¸Šä½ï¼‰
```
kaben_haba <= 0.275
gini = 0.664
samples = 105
value = [34, 32, 39]
```

**å„é …ç›®ã®æ„å‘³:**
- **kaben_haba <= 0.275**: åˆ†å²æ¡ä»¶ï¼ˆèŠ±å¼å¹…â‰¤0.275ï¼‰
- **gini = 0.664**: ã‚¸ãƒ‹ä¸ç´”åº¦ï¼ˆ0ã«è¿‘ã„ã»ã©ç´”ç²‹ï¼‰
- **samples = 105**: ã“ã®ãƒãƒ¼ãƒ‰ã«å«ã¾ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿æ•°
- **value = [34, 32, 39]**: å„ã‚¯ãƒ©ã‚¹ã®ãƒ‡ãƒ¼ã‚¿æ•°

#### ãƒªãƒ¼ãƒ•ãƒãƒ¼ãƒ‰ï¼ˆæœ«ç«¯ï¼‰
```
gini = 0.0
samples = 34
value = [34, 0, 0]
```
- **gini = 0.0**: å®Œå…¨ã«ç´”ç²‹ï¼ˆ1ç¨®é¡ã®ã¿ï¼‰
- **samples = 34**: 34å€‹ã®ãƒ‡ãƒ¼ã‚¿ãŒã“ã®ãƒãƒ¼ãƒ‰ã«åˆ†é¡
- **value = [34, 0, 0]**: ã™ã¹ã¦ãŒã‚¯ãƒ©ã‚¹0ï¼ˆIris-setosaï¼‰

## ğŸ§® ã‚¸ãƒ‹ä¸ç´”åº¦ã®ç†è§£

### ã‚¸ãƒ‹ä¸ç´”åº¦ã¨ã¯
**ãƒ‡ãƒ¼ã‚¿ã®æ··åˆåº¦**ã‚’è¡¨ã™æŒ‡æ¨™ã§ã€0ã€œ0.5ã®å€¤ã‚’å–ã‚‹

### è¨ˆç®—ä¾‹
```python
# ãƒãƒ¼ãƒ‰1ã®å ´åˆ: [34, 0, 0]
gini = 1 - (34/34)Â² - (0/34)Â² - (0/34)Â² = 1 - 1 = 0.0

# ãƒ«ãƒ¼ãƒˆãƒãƒ¼ãƒ‰ã®å ´åˆ: [34, 32, 39]
gini = 1 - (34/105)Â² - (32/105)Â² - (39/105)Â² â‰ˆ 0.664
```

### è§£é‡ˆ
- **gini = 0.0**: å®Œå…¨ã«ç´”ç²‹ï¼ˆç†æƒ³çš„ï¼‰
- **gini = 0.5**: æœ€ã‚‚æ··åˆã—ã¦ã„ã‚‹çŠ¶æ…‹
- **å€¤ãŒå°ã•ã„ã»ã©è‰¯ã„åˆ†é¡**

## ğŸ’¡ å®Ÿè·µçš„ãªã‚¢ãƒ‰ãƒã‚¤ã‚¹

### ãƒ‡ãƒ¼ã‚¿åˆ†å‰²ã®æ³¨æ„ç‚¹
- **test_size**: é€šå¸¸0.2ã€œ0.3ï¼ˆ20%ã€œ30%ï¼‰
- **random_state**: å›ºå®šå€¤ã‚’è¨­å®šã—ã¦å†ç¾æ€§ã‚’ä¿ã¤
- **ãƒ‡ãƒ¼ã‚¿ã®åã‚Š**: åˆ†å‰²å¾Œã‚‚å„ã‚¯ãƒ©ã‚¹ãŒé©åˆ‡ã«å«ã¾ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

### é©åˆ‡ãªåˆ†å‰²æ¯”ç‡
- **ä¸€èˆ¬çš„**: è¨“ç·´70% vs ãƒ†ã‚¹ãƒˆ30%
- **ãƒ‡ãƒ¼ã‚¿ãŒå¤šã„å ´åˆ**: è¨“ç·´80% vs ãƒ†ã‚¹ãƒˆ20%
- **ãƒ‡ãƒ¼ã‚¿ãŒå°‘ãªã„å ´åˆ**: è¨“ç·´60% vs ãƒ†ã‚¹ãƒˆ40%

### ãƒ¢ãƒ‡ãƒ«è©•ä¾¡ã®æ³¨æ„ç‚¹
- **è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã§ã®è©•ä¾¡ã¯ç¦ç‰©**: å¿…ãšãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã§è©•ä¾¡
- **æ­£è§£ç‡ã ã‘ã§ãªã**: ä»–ã®æŒ‡æ¨™ï¼ˆé©åˆç‡ã€å†ç¾ç‡ãªã©ï¼‰ã‚‚è€ƒæ…®
- **äº¤å·®æ¤œè¨¼**: ã‚ˆã‚Šä¿¡é ¼æ€§ã®é«˜ã„è©•ä¾¡æ–¹æ³•ã‚‚å­˜åœ¨

### æ±ºå®šæœ¨ã®èª¿æ•´
- **max_depth**: æ·±ã™ããšæµ…ã™ããªã„é©åˆ‡ãªå€¤ã‚’é¸æŠ
- **å¯è¦–åŒ–**: åˆ†å²æ¡ä»¶ã‚’ç†è§£ã—ã¦ã€ãƒ¢ãƒ‡ãƒ«ã®å¦¥å½“æ€§ã‚’ç¢ºèª
- **ç‰¹å¾´é‡ã®é‡è¦åº¦**: ã©ã®ç‰¹å¾´é‡ãŒäºˆæ¸¬ã«é‡è¦ã‹ã‚’åˆ†æ

### æ±ºå®šæœ¨ã®å“è³ªè©•ä¾¡
1. **ãƒªãƒ¼ãƒ•ãƒãƒ¼ãƒ‰ã®ã‚¸ãƒ‹ä¸ç´”åº¦**ã‚’ãƒã‚§ãƒƒã‚¯
2. **å„ãƒãƒ¼ãƒ‰ã®ã‚µãƒ³ãƒ—ãƒ«æ•°**ã‚’ç¢ºèª
3. **åˆ†å²æ¡ä»¶ã®å¦¥å½“æ€§**ã‚’æ¤œè¨

### ãƒ¢ãƒ‡ãƒ«ã®æ”¹å–„æŒ‡é‡
```python
# æ·±ã•ã‚’åˆ¶é™ã—ã¦éå­¦ç¿’ã‚’é˜²ã
model = DecisionTreeClassifier(max_depth=3)

# æœ€å°ã‚µãƒ³ãƒ—ãƒ«æ•°ã‚’è¨­å®š
model = DecisionTreeClassifier(min_samples_leaf=5)
```

### å¯è¦–åŒ–ã®ãƒ¡ãƒªãƒƒãƒˆ
- **åˆ†å²ãƒ­ã‚¸ãƒƒã‚¯ãŒæ˜ç¢º**ã«ãªã‚‹
- **ãƒ‰ãƒ¡ã‚¤ãƒ³çŸ¥è­˜ã¨ã®æ•´åˆæ€§**ã‚’ç¢ºèªã§ãã‚‹
- **äºˆæ¸¬æ ¹æ‹ ã‚’èª¬æ˜**ã—ã‚„ã™ã„
- **ãƒ¢ãƒ‡ãƒ«ã®æ”¹å–„ç‚¹**ãŒè¦‹ã¤ã‘ã‚„ã™ã„

## ğŸ” å…¨ä½“ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¾ã¨ã‚

### ã‚¹ãƒ†ãƒƒãƒ—1: ãƒ‡ãƒ¼ã‚¿æº–å‚™
```python
# ãƒ‡ãƒ¼ã‚¿ã‚’è¨“ç·´ç”¨ã¨ãƒ†ã‚¹ãƒˆç”¨ã«åˆ†å‰²
x_train, x_test, y_train, y_test = train_test_split(x, y, test_size=0.3)
```

### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ¢ãƒ‡ãƒ«å­¦ç¿’
```python
# æ±ºå®šæœ¨ãƒ¢ãƒ‡ãƒ«ã‚’è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã§å­¦ç¿’
model.fit(x_train, y_train)
```

### ã‚¹ãƒ†ãƒƒãƒ—3: æ€§èƒ½è©•ä¾¡
```python
# ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã§æ­£è§£ç‡ã‚’è¨ˆç®—
accuracy = model.score(x_test, y_test)
```

### ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ¢ãƒ‡ãƒ«ä¿å­˜
```python
# å­¦ç¿’æ¸ˆã¿ãƒ¢ãƒ‡ãƒ«ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã«ä¿å­˜
pickle.dump(model, file)
```

### ã‚¹ãƒ†ãƒƒãƒ—5: å†…éƒ¨æ§‹é€ åˆ†æ
```python
print("åˆ†å²ç‰¹å¾´é‡:", model.tree_.feature)
print("åˆ†å²ã—ãã„å€¤:", model.tree_.threshold)
print("å„ãƒãƒ¼ãƒ‰ã®ãƒ‡ãƒ¼ã‚¿æ•°:", model.tree_.value)
print("ã‚¯ãƒ©ã‚¹å:", model.classes_)
```

### ã‚¹ãƒ†ãƒƒãƒ—6: å¯è¦–åŒ–
```python
plot_tree(model, feature_names=feature_names, filled=True)
```

### ã‚¹ãƒ†ãƒƒãƒ—7: è§£é‡ˆã¨æ”¹å–„
- ã‚¸ãƒ‹ä¸ç´”åº¦ãŒé«˜ã„ãƒãƒ¼ãƒ‰ã‚’ç‰¹å®š
- åˆ†å²æ¡ä»¶ã®å¦¥å½“æ€§ã‚’è©•ä¾¡
- å¿…è¦ã«å¿œã˜ã¦ãƒã‚¤ãƒ‘ãƒ¼ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’èª¿æ•´

## ğŸ­ æœ€çµ‚çš„ãªã¾ã¨ã‚

æ©Ÿæ¢°å­¦ç¿’ã®è©•ä¾¡ã¯ã€Œ**ã‚«ãƒ³ãƒ‹ãƒ³ã‚°ã—ãªã„ãƒ†ã‚¹ãƒˆ**ã€ã¨åŒã˜ã§ã™ï¼š

1. **å­¦ç¿’ãƒ•ã‚§ãƒ¼ã‚º**: è¨“ç·´ãƒ‡ãƒ¼ã‚¿ã§ãƒ¢ãƒ‡ãƒ«ã‚’æ•™è‚²
2. **è©•ä¾¡ãƒ•ã‚§ãƒ¼ã‚º**: å…¨ãåˆ¥ã®ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã§å®ŸåŠ›æ¸¬å®š
3. **çµæœ**: çœŸã®æ€§èƒ½ãŒåˆ†ã‹ã‚Šã€éå­¦ç¿’ã‚’é˜²ã’ã‚‹

ã“ã®ä¸€é€£ã®æµã‚Œã‚’ç†è§£ã™ã‚‹ã“ã¨ã§ã€**å®Ÿéš›ã®ã‚µãƒ¼ãƒ“ã‚¹ã§ä½¿ãˆã‚‹ä¿¡é ¼ã§ãã‚‹ãƒ¢ãƒ‡ãƒ«**ã‚’æ§‹ç¯‰ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚æ±ºå®šæœ¨ã¯ã€Œãªãœãã®äºˆæ¸¬ã«ãªã£ãŸã‹ã€ã‚’æ˜ç¢ºã«èª¬æ˜ã§ãã‚‹è²´é‡ãªæ©Ÿæ¢°å­¦ç¿’æ‰‹æ³•ãªã®ã§ã€å†…éƒ¨æ§‹é€ ã‚’ç†è§£ã™ã‚‹ã“ã¨ã§ã€ã‚ˆã‚ŠåŠ¹æœçš„ã«æ´»ç”¨ã§ãã¾ã™ã€‚